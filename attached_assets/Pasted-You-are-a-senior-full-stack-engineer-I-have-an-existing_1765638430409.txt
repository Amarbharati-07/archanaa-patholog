You are a senior full-stack engineer.

I have an existing project named "archanaa-patholog" already connected to this Replit workspace.
The project uses:
- Vite + React + TypeScript (client)
- Node.js / Express (server)
- Tailwind CSS
- Existing admin & user dashboards

Your task is to make the ENTIRE AUTHENTICATION + PAYMENT FLOW
PRODUCTION-READY, END-TO-END, WITHOUT BREAKING EXISTING CODE.

====================================================
AUTHENTICATION MODULE (START TO END)
====================================================

1) REGISTER
- User registers using:
  - Name
  - Email
  - Mobile
  - Password
- Password must be hashed (bcrypt)
- After register:
  - User status = UNVERIFIED
  - Send 6-digit EMAIL OTP (FREE, Nodemailer)
- User CANNOT login without OTP verification

2) EMAIL OTP VERIFICATION (FREE)
- No Firebase
- Use Nodemailer + Gmail App Password
- OTP:
  - 6-digit numeric
  - Valid for 5 minutes
  - Max 3 attempts
- APIs:
  - POST /api/auth/send-otp
  - POST /api/auth/verify-otp
- After success:
  - user.emailVerified = true

3) LOGIN
- Allow login ONLY if:
  - Email verified
  - Correct password
- Use JWT authentication
- Protect dashboard routes

4) FORGOT PASSWORD
- User enters email
- Send OTP to email
- Verify OTP
- Allow password reset
- Old password invalidated

====================================================
PAYMENT MODULE (START TO END)
====================================================

User Flow:
1) User logs in
2) Selects pathology test
3) Proceeds to payment
4) Selects payment method:
   - UPI Manual
   - Razorpay (Test Mode)

--------------------------------
UPI MANUAL PAYMENT (FREE)
--------------------------------
- Show UPI ID + QR Code
- User enters:
  - Amount
  - UPI Transaction ID
  - Optional screenshot
- Payment status = PENDING

--------------------------------
RAZORPAY PAYMENT
--------------------------------
- Create order from backend
- Handle success callback
- Save:
  - orderId
  - paymentId
  - method
  - amount
- Status = PAID

====================================================
ADMIN PAYMENT VERIFICATION
====================================================

Admin Dashboard:
- Show all payments with:
  - User name
  - Test name
  - Amount
  - Payment method
  - Status
- Admin has button:
  "VERIFY PAYMENT"

Rules:
- User CANNOT download report unless:
  payment.status = VERIFIED
- After admin verification:
  - Enable report download

====================================================
SECURITY & QUALITY RULES
====================================================

- Use bcrypt for passwords
- Use JWT for auth
- Use environment variables
- Add proper validations
- No Firebase
- No paid OTP services
- Do not delete existing files
- Follow existing folder structure
- Handle all edge cases

====================================================
FINAL EXPECTATION
====================================================

✔ Register works perfectly
✔ Login works perfectly
✔ Forgot password works perfectly
✔ OTP is real-time and FREE
✔ Payment works end-to-end
✔ Admin controls verification
✔ User download blocked until verified
✔ No bugs, no broken flows

Start implementing directly in the codebase.
Do not explain.
Do not summarize.
Implement everything correctly.
